# Database Diagrams Template

Write `docs/database/diagrams.md` at the scan root following this structure.

## File Structure

```markdown
# Database Diagrams

> Auto-generated by repo-map. Entity-Relationship models for every discovered database.

## {Database Name} ({Project Name})

**Source:** {path to DbContext, Prisma schema, or migration files}
**Engine:** {PostgreSQL | SQL Server | MySQL | SQLite | MongoDB}

` ` `mermaid
erDiagram
    EntityA {
        guid Id PK
        string Name
        datetime CreatedAt
    }
    EntityB {
        guid Id PK
        guid EntityAId FK
        int Quantity
        decimal Price
    }
    EntityA ||--o{ EntityB : "has many"
` ` `

### Notes

- {Any relevant notes about this database: shared by multiple services, read replicas, etc.}
```

## Rules

- One `erDiagram` block per database or schema.
- Include every entity discovered (EF Core entity classes, Prisma models, migration-created tables).
- Attribute format: `type Name [PK|FK]`. Use the closest Mermaid-compatible type name.
- Relationship cardinality: use `||--||` (one-to-one), `||--o{` (one-to-many), `}o--o{` (many-to-many).
- Label every relationship with a short description.
- If the same database is used by multiple projects, note this explicitly and list all consuming projects.
- Redact passwords and user credentials from any connection string references. Keep host and DB name.
